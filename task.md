# Техническое задание для API MyClassAPI

## Название проекта:
**API MyClassAPI**

## Цели проекта:
1. Развить навыки работы с FastAPI, Postgres, Pydantic и JWT токенами.
2. Создать функциональный REST API, который будет использоваться для проекта про класс, включая информацию о каждом ученике и учителе.
3. Реализовать аутентификацию и ролевую модель доступа (пользователи и администраторы).

## Основной функционал:

### 1. **Управление пользователями:**
- **Функции:**
  - Регистрация: Пользователи могут создавать учетные записи.
  - Вход: Пользователи проходят аутентификацию с использованием JWT токенов.
  - Роли:
    - **Пользователь:** Может просматривать информацию о классе, учениках, учителях и добавлять комментарии.
    - **Администратор:** Может управлять пользователями, добавлять, редактировать и удалять информацию о классах, учениках и учителях.
- **Атрибуты пользователей:**
  - `id`: Уникальный идентификатор.
  - `username`: Имя пользователя.
  - `password`: Зашифрованный пароль.
  - `role`: Роль пользователя (например, "user", "student", "teacher", "superadmin").
  - `created_at`: Дата и время создания аккаунта.
  - `updated_at`: Дата и время последнего обновления.


### 2. **Информация о классе:**
# Функциональность

- Все пользователи (ученики, родители, гости) могут просматривать информацию о классе.
- Учителя и администраторы могут создавать, редактировать и удалять информацию о классе.
- Поддерживаются CRUD-операции (Create, Read, Update, Delete).

# Атрибуты класса

- **id**: Уникальный идентификатор класса
- **class_name**: Название класса (например, "10-А")
- **teacher_id**: ID классного руководителя (связан с таблицей учителей)
- **class_leader_id**: ID лидера класса (связан с таблицей учеников)
- **school_year**: Учебный год (например, "2024–2025")
- **class_photo_url**: Ссылка на общее фото класса
- **description**: Краткое описание класса (например, "Активный класс с фокусом на IT и олимпиадной подготовке")
- **students_count**: Количество учеников в классе (можно рассчитывать автоматически)
- **classroom_number**: Основной кабинет класса (например, "305")
- **created_at**: Дата и время создания записи
- **updated_at**: Дата и время последнего изменения


### 3. **Информация об учениках:**
- **Функции:**
  - CRUD операции для информации об учениках.
  - Администраторы могут добавлять, редактировать и удалять записи о учениках.
  - Все пользователи могут просматривать информацию о учениках.
- **Атрибуты учеников:**
  - `id`: Уникальный идентификатор.
  - `username`: Логин ученика.
  - `password`: Пароль ученика.
  - `firstname`: Имя ученика.
  - `lastname`: Фамилия ученика.
  - `photo`: Фотография ученика (URL или Base64).
  - `birthdate`: Дата рождения.
  - `age`: Возраст ученика (можно вычислять на основе `birthdate`).
  - `gender`: Пол ученика.
  - `subject`: Основной предмет, которым интересуется ученик.
  - `interests`: Интересы ученика.
  - `idol`: Кумир ученика.
  - `created_at`: Дата и время создания записи.
  - `updated_at`: Дата и время последнего обновления.

### 4. **Информация о учителях:**
- **Функции:**
  - CRUD операции для информации о учителях.
  - Администраторы могут добавлять, редактировать и удалять записи о учителях.
  - Все пользователи могут просматривать информацию о учителях.
- **Атрибуты учителей:**
  - id: Уникальный идентификатор.
  - username: Логин учителя.
  - password: Пароль учителя.
  - firstname: Имя учителя.
  - lastname: Фамилия учителя.
  - photo: Фотография учителя (URL или Base64).
  - subject: Преподаваемый предмет.
  - birthDate: Дата рождения учителя.
  - idol: Кумир учителя.
  - created_at: Дата и время создания записи.
  - updated_at: Дата и время последнего обновления.



### 6. **Загрузка изображений (фотографии):**
- **Функции:**
  - Администраторы могут загружать фотографии учеников и учителей.
  - Файлы могут храниться локально или в облаке (например, AWS S3).
- **Функционал загрузки изображений:**
  - Фотографии сохраняются с уникальными именами (например, через UUID).
  - Администратор может удалить фотографию.

### 7. **Документация API:**
- **Функции:**
  - Автоматически генерируемая документация Swagger через FastAPI.

### 8. **Дополнительные функции:**
- **Кэширование:**
  - Использование Redis для кэширования часто запрашиваемых данных (например, популярные ученики или классы).

## Технологии:
- **Backend:** FastAPI
- **База данных:** PostgreSQL
- **Аутентификация:** JWT
- **ORM/ODM:** SQLAlchemy
- **Кэширование:** Redis
- **Контейнеризация:** Docker
- **Документация API:** Swagger (встроена в FastAPI)
- **Тестирование:** pytest

## Деплой:
- Использование Docker Compose для контейнеризации приложения.
- Деплой на облачный хостинг (например, AWS, Heroku или DigitalOcean).

